<launch>
    <node pkg="nodelet" type="nodelet" name="mobile_base_manager" args="manager" />

    <node pkg="nodelet" type="nodelet" name="mobile_base"
          args="load kobuki_node/KobukiNodelet mobile_base_manager">
        <rosparam command="load" file="$(find kobuki_node)/param/base.yaml" />
        <param name="device_port" value="/dev/kobuki" />
        <remap from="mobile_base/enable"      to="enable"/>
        <remap from="mobile_base/disable"     to="disable"/>
        <remap from="mobile_base/odom"        to="odom" />
        <remap from="mobile_base/joint_state" to="joint_states" />
    </node>

    <node pkg="nodelet" type="nodelet" name="cmd_vel_mux"
          args="load yocs_cmd_vel_mux/CmdVelMuxNodelet mobile_base_manager">
        <param name="yaml_cfg_file" value="$(find locobot_bringup)/param/mux.yaml" />
        <remap from="cmd_vel_mux/output" to="mobile_base/commands/velocity" />
    </node>
</launch>
